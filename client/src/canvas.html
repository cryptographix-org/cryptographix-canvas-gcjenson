<template>
  <require from="node-element"></require>

  <div id="canvas">
    <node-element repeat.for="node of nodes" node.bind="node" style.bind="nodeStyle"></node-element>
  </div>

  <div if.bind="network.graph.context.runState === 4" class="speed-controls">
    <div click.trigger="changeSpeed(0.001)" class="triangle-up"></div>
    <h5 if.bind="animationSpeed < 0.02" style="color: #c7d8d8; font-size: 13px;">Speed: ${animationSpeed.toFixed(3) * 1000}</h5>
    <h5 if.bind="animationSpeed >= 0.02" style="color: #c7d8d8; font-size: 13px;">No Delay</h5>
    <div click.trigger="changeSpeed(-0.001)" class="triangle-down"></div>
  </div>

  <!-- 4 is the value of the run state RUNNING -->
  <button if.bind="network.graph.context.runState !== 4" type="button" class="btn btn-circle btn-lg btn-play" click.trigger="runNetwork()"><i class="fa fa-play"></i></button> 

  <button if.bind="network.graph.context.runState === 4" type="button" class="btn btn-circle btn-lg btn-play" click.trigger="stopNetwork()"><i class="fa fa-stop"></i></button> 

  <button id="addNodeButton" type="button" class="${network.graph.context.runState === 4 ? 'disabled' : ''} btn btn-circle btn-lg btn-add" click.trigger="addNode()"><i class="fa fa-plus"></i></button> 

  <div id="trash" show.bind="isDragging" class="trash"><i style="font-size: 45px" class="fa fa-trash-o"></i></div> 

  <div if.bind="showWiretapPanel" style="opacity: 0.7; width: 100%; margin-bottom: 0px;" class="panel panel-default navbar-fixed-bottom">
    <div class="panel-heading">
      <h3 class="panel-title">Wiretaps<span style="color: #a3a5a5; cursor: pointer;" class="text-right pull-right"><i class="fa fa-eraser" click.trigger="wiretap.clear()"></i><i style="margin-left: 10px;" class="fa fa-times" click.trigger="showWiretapPanel = false"></i></span></h3>
    </div>
    <textarea id="wiretap-textarea" value.bind="wiretap.data" style="margin-top: 0px; margin-left: 0px; max-width: 100%; resize: vertical;" readonly class="panel-body form-control text-area" rows="4">
    </textarea>
  </div>

</template>
